{% extends "base.html" %}
{% block title %}My Habits{% endblock %}

{% block content %}
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mt-8 px-4">
  <!-- My Habits -->
  <div class="lg:col-span-2">
    <div class="bg-white/10 backdrop-blur-md shadow-xl rounded-2xl p-6">
      <h2 class="text-2xl font-bold text-white flex items-center gap-2">
        ğŸŒŸ My Habits
      </h2>
      <ul class="mt-4 space-y-3">
        {% for item in habit_data %}
        <li class="flex justify-between items-center bg-white/5 rounded-xl p-4 hover:bg-white/10 transition">
          <span class="text-lg font-medium text-white">{{ item.habit.name }}</span>
          <div class="flex items-center gap-2">
            {% if item.completed_today %}
              <span class="px-3 py-1 rounded-full text-sm font-semibold bg-green-600 text-white">âœ… Done</span>
            {% else %}
              <a href="{% url 'complete_habit' item.habit.id %}"
                 class="px-3 py-1 text-sm font-semibold text-green-600 bg-white rounded-full hover:bg-green-100 transition">
                 âœ… Mark as Done
              </a>
            {% endif %}
            
          </div>
        </li>
        {% empty %}
        <li class="text-gray-200">No habits yet. Start by adding one!</li>
        {% endfor %}
      </ul>
    </div>
  </div>

  <!-- Recent History -->
  <div>
    <div class="bg-white/10 backdrop-blur-md shadow-xl rounded-2xl p-6">
      <h2 class="text-2xl font-bold text-white flex items-center gap-2">
        ğŸ“… Recent History
      </h2>
      <ul class="mt-4 space-y-3">
        {% for rec in history %}
        <li class="flex justify-between items-center bg-white/5 rounded-xl p-3">
          <span class="text-white">{{ rec.habit.name }} - {{ rec.date }}</span>
          <span class="text-lg">
            {% if rec.completed %}
              âœ…
            {% else %}
              âŒ
            {% endif %}
          </span>
        </li>
        {% empty %}
        <li class="text-gray-200">No history yet.</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
